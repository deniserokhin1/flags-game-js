(()=>{"use strict";const e=[{text:"Австралия",value:"AU"},{text:"Австрия",value:"AT"},{text:"Азербайджан",value:"AZ"},{text:"Аландские острова",value:"AX"},{text:"Албания",value:"AL"},{text:"Алжир",value:"DZ"},{text:"Виргинские Острова (США)",value:"VI"},{text:"Американское Самоа",value:"AS"},{text:"Ангилья",value:"AI"},{text:"Ангола",value:"AO"},{text:"Андорра",value:"AD"},{text:"Антарктида",value:"AQ"},{text:"Антигуа и Барбуда",value:"AG"},{text:"Аргентина",value:"AR"},{text:"Армения",value:"AM"},{text:"Аруба",value:"AW"},{text:"Афганистан",value:"AF"},{text:"Багамские Острова",value:"BS"},{text:"Бангладеш",value:"BD"},{text:"Барбадос",value:"BB"},{text:"Бахрейн",value:"BH"},{text:"Белиз",value:"BZ"},{text:"Белоруссия",value:"BY"},{text:"Бельгия",value:"BE"},{text:"Бенин",value:"BJ"},{text:"Бермуды",value:"BM"},{text:"Болгария",value:"BG"},{text:"Боливия",value:"BO"},{text:"Бонэйр, Синт-Эстатиус и Саба",value:"BQ"},{text:"Босния и Герцеговина",value:"BA"},{text:"Ботсвана",value:"BW"},{text:"Бразилия",value:"BR"},{text:"Британская территория в Индийском океане",value:"IO"},{text:"Виргинские Острова (Великобритания)",value:"VG"},{text:"Бруней",value:"BN"},{text:"Буркина-Фасо",value:"BF"},{text:"Бурунди",value:"BI"},{text:"Бутан",value:"BT"},{text:"Вануату",value:"VU"},{text:"Ватикан",value:"VA"},{text:"Великобритания",value:"GB"},{text:"Венгрия",value:"HU"},{text:"Венесуэла",value:"VE"},{text:"Внешние малые острова (США)",value:"UM"},{text:"Восточный Тимор",value:"TL"},{text:"Вьетнам",value:"VN"},{text:"Габон",value:"GA"},{text:"Гаити",value:"HT"},{text:"Гайана",value:"GY"},{text:"Гамбия",value:"GM"},{text:"Гана",value:"GH"},{text:"Гваделупа",value:"GP"},{text:"Гватемала",value:"GT"},{text:"Гвиана",value:"GF"},{text:"Гвинея",value:"GN"},{text:"Гвинея-Бисау",value:"GW"},{text:"Германия",value:"DE"},{text:"Гернси",value:"GG"},{text:"Гибралтар",value:"GI"},{text:"Гондурас",value:"HN"},{text:"Гонконг",value:"HK"},{text:"Гренада",value:"GD"},{text:"Гренландия",value:"GL"},{text:"Греция",value:"GR"},{text:"Грузия",value:"GE"},{text:"Гуам",value:"GU"},{text:"Дания",value:"DK"},{text:"Джерси",value:"JE"},{text:"Джибути",value:"DJ"},{text:"Доминика",value:"DM"},{text:"Доминиканская Республика",value:"DO"},{text:"ДР Конго",value:"CD"},{text:"Флаг ЕС",value:"Европейский"},{text:"Египет",value:"EG"},{text:"Замбия",value:"ZM"},{text:"САДР",value:"EH"},{text:"Зимбабве",value:"ZW"},{text:"Израиль",value:"IL"},{text:"Индия Индия",value:"IN"},{text:"Индонезия",value:"ID"},{text:"Иордания",value:"JO"},{text:"Ирак",value:"IQ"},{text:"Иран",value:"IR"},{text:"Ирландия",value:"IE"},{text:"Исландия",value:"IS"},{text:"Испания",value:"ES"},{text:"Италия",value:"IT"},{text:"Йемен",value:"YE"},{text:"Кабо-Верде",value:"CV"},{text:"Казахстан",value:"KZ"},{text:"Острова Кайман",value:"KY"},{text:"Камбоджа",value:"KH"},{text:"Камерун",value:"CM"},{text:"Канада",value:"CA"},{text:"Катар",value:"QA"},{text:"Кения",value:"KE"},{text:"Кипр",value:"CY"},{text:"Киргизия",value:"KG"},{text:"Кирибати",value:"KI"},{text:"Китайская Республика",value:"TW"},{text:"КНДР (Корейская Народно-Демократическая Республика)",value:"KP"},{text:"Китай (Китайская Народная Республика)",value:"CN"},{text:"Кокосовые острова",value:"CC"},{text:"Колумбия",value:"CO"},{text:"Коморы",value:"KM"},{text:"Коста-Рика",value:"CR"},{text:"Кот-д’Ивуар",value:"CI"},{text:"Куба",value:"CU"},{text:"Кувейт",value:"KW"},{text:"Кюрасао",value:"CW"},{text:"Лаос",value:"LA"},{text:"Латвия",value:"LV"},{text:"Лесото",value:"LS"},{text:"Либерия",value:"LR"},{text:"Ливан",value:"LB"},{text:"Ливия",value:"LY"},{text:"Литва",value:"LT"},{text:"Лихтенштейн",value:"LI"},{text:"Люксембург",value:"LU"},{text:"Маврикий",value:"MU"},{text:"Мавритания",value:"MR"},{text:"Мадагаскар",value:"MG"},{text:"Майотта",value:"YT"},{text:"Макао",value:"MO"},{text:"Северная Македония",value:"MK"},{text:"Малави",value:"MW"},{text:"Малайзия",value:"MY"},{text:"Мали",value:"ML"},{text:"Мальдивы",value:"MV"},{text:"Мальта",value:"MT"},{text:"Марокко",value:"MA"},{text:"Мартиника",value:"MQ"},{text:"Маршалловы Острова",value:"MH"},{text:"Мексика",value:"MX"},{text:"Микронезия",value:"FM"},{text:"Мозамбик",value:"MZ"},{text:"Молдавия",value:"MD"},{text:"Монако",value:"MC"},{text:"Монголия",value:"MN"},{text:"Монтсеррат",value:"MS"},{text:"Мьянма",value:"MM"},{text:"Намибия",value:"NA"},{text:"Науру",value:"NR"},{text:"Непал",value:"NP"},{text:"Нигер",value:"NE"},{text:"Нигерия",value:"NG"},{text:"Нидерланды",value:"NL"},{text:"Никарагуа",value:"NI"},{text:"Ниуэ",value:"NU"},{text:"Новая Зеландия",value:"NZ"},{text:"Новая Каледония",value:"NC"},{text:"Норвегия",value:"NO"},{text:"ОАЭ",value:"AE"},{text:"Оман",value:"OM"},{text:"Остров Буве",value:"BV"},{text:"Остров Мэн",value:"IM"},{text:"Острова Кука",value:"CK"},{text:"Остров Норфолк",value:"NF"},{text:"Остров Рождества",value:"CX"},{text:"Острова Питкэрн",value:"PN"},{text:"Острова Святой Елены, Вознесения и Тристан-да-Кунья",value:"SH"},{text:"Пакистан",value:"PK"},{text:"Палау",value:"PW"},{text:"Государство Палестина",value:"PS"},{text:"Панама",value:"PA"},{text:"Папуа — Новая Гвинея",value:"PG"},{text:"Парагвай",value:"PY"},{text:"Перу",value:"PE"},{text:"Польша",value:"PL"},{text:"Португалия",value:"PT"},{text:"Пуэрто-Рико",value:"PR"},{text:"Республика Конго",value:"CG"},{text:"Республика Корея",value:"KR"},{text:"Реюньон",value:"RE"},{text:"Россия",value:"RU"},{text:"Руанда",value:"RW"},{text:"Румыния",value:"RO"},{text:"Сальвадор",value:"SV"},{text:"Самоа",value:"WS"},{text:"Сан-Марино",value:"SM"},{text:"Сан-Томе и Принсипи",value:"ST"},{text:"Саудовская Аравия",value:"SA"},{text:"Эсватини",value:"SZ"},{text:"Северные Марианские Острова",value:"MP"},{text:"Сейшельские Острова",value:"SC"},{text:"Сен-Бартелеми",value:"BL"},{text:"Сен-Мартен",value:"MF"},{text:"Сен-Пьер и Микелон",value:"PM"},{text:"Сенегал",value:"SN"},{text:"Сент-Винсент и Гренадины",value:"VC"},{text:"Сент-Китс и Невис",value:"KN"},{text:"Сент-Люсия",value:"LC"},{text:"Сербия",value:"RS"},{text:"Сингапур",value:"SG"},{text:"Синт-Мартен",value:"SX"},{text:"Сирия",value:"SY"},{text:"Словакия",value:"SK"},{text:"Словения",value:"SI"},{text:"Соломоновы Острова",value:"SB"},{text:"Сомали",value:"SO"},{text:"Судан",value:"SD"},{text:"Суринам",value:"SR"},{text:"США",value:"US"},{text:"Сьерра-Леоне",value:"SL"},{text:"Таджикистан",value:"TJ"},{text:"Таиланд",value:"TH"},{text:"Танзания",value:"TZ"},{text:"Теркс и Кайкос",value:"TC"},{text:"Того",value:"TG"},{text:"Токелау",value:"TK"},{text:"Тонга",value:"TO"},{text:"Тринидад и Тобаго",value:"TT"},{text:"Тувалу",value:"TV"},{text:"Тунис",value:"TN"},{text:"Туркмения",value:"TM"},{text:"Турция",value:"TR"},{text:"Уганда",value:"UG"},{text:"Узбекистан",value:"UZ"},{text:"Украина",value:"UA"},{text:"Уоллис и Футуна",value:"WF"},{text:"Уругвай",value:"UY"},{text:"Фареры",value:"FO"},{text:"Фиджи",value:"FJ"},{text:"Филиппины",value:"PH"},{text:"Финляндия",value:"FI"},{text:"Фолклендские острова",value:"FK"},{text:"Франция",value:"FR"},{text:"Французская Полинезия",value:"PF"},{text:"Французские Южные и Антарктические Территории",value:"TF"},{text:"Херд и Макдональд",value:"HM"},{text:"Хорватия",value:"HR"},{text:"ЦАР",value:"CF"},{text:"Чад",value:"TD"},{text:"Черногория",value:"ME"},{text:"Чехия",value:"CZ"},{text:"Чили",value:"CL"},{text:"Швейцария",value:"CH"},{text:"Швеция",value:"SE"},{text:"Флаг Шпицбергена и Ян-Майена Шпицберген и Ян-Майен",value:"SJ"},{text:"Шри-Ланка",value:"LK"},{text:"Эквадор",value:"EC"},{text:"Экваториальная Гвинея",value:"GQ"},{text:"Эритрея",value:"ER"},{text:"Эстония",value:"EE"},{text:"Эфиопия",value:"ET"},{text:"ЮАР",value:"ZA"},{text:"Южная Георгия и Южные Сандвичевы Острова",value:"GS"},{text:"Южный Судан",value:"SS"},{text:"Ямайка",value:"JM"},{text:"Япония",value:"JP"}];var t,a=function(e,t,a,u){return new(a||(a=Promise))((function(l,v){function x(e){try{r(u.next(e))}catch(e){v(e)}}function n(e){try{r(u.throw(e))}catch(e){v(e)}}function r(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(x,n)}r((u=u.apply(e,t||[])).next())}))},u=function(e,t){var a,u,l,v,x={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return v={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function n(v){return function(n){return function(v){if(a)throw new TypeError("Generator is already executing.");for(;x;)try{if(a=1,u&&(l=2&v[0]?u.return:v[0]?u.throw||((l=u.return)&&l.call(u),0):u.next)&&!(l=l.call(u,v[1])).done)return l;switch(u=0,l&&(v=[2&v[0],l.value]),v[0]){case 0:case 1:l=v;break;case 4:return x.label++,{value:v[1],done:!1};case 5:x.label++,u=v[1],v=[0];continue;case 7:v=x.ops.pop(),x.trys.pop();continue;default:if(!((l=(l=x.trys).length>0&&l[l.length-1])||6!==v[0]&&2!==v[0])){x=0;continue}if(3===v[0]&&(!l||v[1]>l[0]&&v[1]<l[3])){x.label=v[1];break}if(6===v[0]&&x.label<l[1]){x.label=l[1],l=v;break}if(l&&x.label<l[2]){x.label=l[2],x.ops.push(v);break}l[2]&&x.ops.pop(),x.trys.pop();continue}v=t.call(e,x)}catch(e){v=[6,e],u=0}finally{a=l=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,n])}}},l=4,v=0,x=document.querySelector(".btn-start"),n=document.querySelector(".result"),r=document.querySelector(".controls-container"),c=document.querySelector(".draggable-objects"),o=document.querySelector(".drop-points"),i=document.querySelector(".form-range"),s=document.querySelector(".count-flags"),d=document.querySelector(".btn-game"),f=document.querySelector(".input-wrapper"),g=document.querySelector(".container-div");function h(e,t){return a(this,void 0,void 0,(function(){var a,l;return u(this,(function(u){switch(u.label){case 0:return e.innerHTML='<svg class="spinner_V8m1" viewBox="0 0 24 24"><g class="spinner_V8m1"><circle cx="12" cy="12" r="9.5"></circle></g></svg>',[4,fetch("https://restcountries.com/v3.1/alpha/".concat(t))];case 1:return[4,u.sent().json()];case 2:return a=u.sent(),l=a[0].flags.svg,e.innerHTML='<img src="'.concat(l,'" id="').concat(t,'" data-url="').concat(l,'">'),[2]}}))}))}var L=0,M=0,p={},S=!1,m=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}};function E(e){m()?(L=e.touches[0].clientX,M=e.touches[0].clientY,S=!0,p=e.target):(console.log(e.target),e.dataTransfer.setData("text",e.target.id))}function T(e){e.preventDefault()}var A=function(e){if(S){e.preventDefault();var t=e.touches[0].clientX,a=e.touches[0].clientY,u=document.getElementById(e.target.id);u.parentElement.style.top=u.parentElement.offsetTop-(M-a)+"px",u.parentElement.style.left=u.parentElement.offsetLeft-(L-t)+"px",L=t,M=a}},y=function(e){if(e.preventDefault(),m()){S=!1;var t=document.querySelector("div[data-id='".concat(e.target.id,"']")),a=t.getBoundingClientRect();L>=a.left&&L<=a.right&&M>=a.top&&M<=a.bottom&&(t.classList.add("dropped"),p.classList.add("hide"),t.innerHTML="",t.insertAdjacentHTML("afterbegin",'<img src= "'.concat(p.id,'.png">')),v+=1)}else{var u=e.dataTransfer.getData("text");if(u===e.target.getAttribute("data-id")){var c=document.getElementById(u);e.target.classList.add("dropped"),c.classList.add("hide"),c.setAttribute("draggable","false"),e.target.innerHTML="",e.target.insertAdjacentHTML("afterbegin",'<img src="'.concat(c.dataset.url,'">')),v+=1}}v==l&&(n.innerText="Вы победили!",r.classList.remove("hide"),x.classList.remove("hide"),g.classList.add("hide"))},G=function(){c.innerHTML="",o.innerHTML="";for(var t=[],a=1;a<=l;a++){var u=e[Math.floor(Math.random()*e.length)];t.includes(u)?a-=1:t.push(u)}for(var v=0,x=t;v<x.length;v++){a=x[v];var n=document.createElement("div");n.classList.add("draggable-image"),n.setAttribute("draggable","true"),m()&&(n.style.position="absolute"),h(n,a.value),c.appendChild(n)}for(var r=0,i=t=t.sort((function(){return.5-Math.random()}));r<i.length;r++){a=i[r];var s=document.createElement("div");s.classList.add("flag-div"),s.innerHTML="<div class='countries' data-id='".concat(a.value,"'>\n    ").concat(a.text,"\n    </div>\n    "),o.appendChild(s)}};x.addEventListener("click",(function(){return a(void 0,void 0,void 0,(function(){return u(this,(function(e){return p={},r.classList.add("hide"),x.classList.add("hide"),f.classList.remove("hide"),[2]}))}))})),i.addEventListener("input",(function(e){s.textContent=e.target.value,l=e.target.value})),d.addEventListener("click",(function(){return a(void 0,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return f.classList.add("hide"),g.classList.remove("hide"),[4,G()];case 1:return e.sent(),v=0,t=document.querySelectorAll(".countries"),document.querySelectorAll(".draggable-image").forEach((function(e){e.addEventListener("dragstart",E),e.addEventListener("touchstart",E),e.addEventListener("touchend",y),e.addEventListener("touchmove",A)})),t.forEach((function(e){e.addEventListener("dragover",T),e.addEventListener("drop",y)})),[2]}}))}))}))})();